-- Created by Ebean DDL
-- To stop Ebean DDL generation, remove this comment (both lines) and start using Evolutions

-- !Ups

-- apply changes
create schema if not exists public;

create table public.t_cms_config
(
    id          bigint generated by default as identity not null,
    name        varchar,
    url         varchar,
    class_type  varchar,
    type        varchar,
    site_id     varchar,
    description varchar,
    status      varchar,
    progress    varchar,
    record      varchar,
    constraint pk_t_cms_config primary key (id)
);

create table scheduled_tasks
(
    id                  bigint generated by default as identity not null,
    resource_id         bigint,
    interval_value      integer,
    enabled             boolean default false                   not null,
    last_execution_time bigint,
    next_execution_time bigint,
    created_at          bigint,
    updated_at          bigint,
    name                varchar,
    collection_type     varchar,
    interval_unit       varchar,
    status              varchar,
    cron_expression     varchar,
    task_class          varchar,
    execution_result    varchar,
    constraint pk_scheduled_tasks primary key (id)
);

create table public.user
(
    id       bigint generated by default as identity not null,
    name     varchar,
    phone    varchar,
    email    varchar,
    password varchar,
    constraint pk_user primary key (id)
);

CREATE TABLE public.t_cms_system_config
(
    key   varchar not null,
    name  varchar not null,
    value varchar,
    CONSTRAINT t_cms_system_config_pkey PRIMARY KEY (key)
);

CREATE TABLE public.t_cms_data_source
(
    id             bigint generated by default as identity not null,
    name           varchar NOT NULL,
    interface_type varchar,
    source_url     varchar,
    auth_type      varchar,
    request_method varchar,
    headers        varchar,
    params         varchar,
    description    varchar,
    status         varchar,
    CONSTRAINT t_cms_data_source_pkey PRIMARY KEY (id)
);

-- !Downs

-- drop all
drop table if exists public.t_cms_config cascade;

drop table if exists scheduled_tasks cascade;

drop table if exists public.user cascade;

